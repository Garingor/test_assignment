{"ast":null,"code":"import _objectSpread from\"/Users/egor/Documents/GitHub/BMSTU_WEB_7_sem_2021/ProjectDjangoReact/mainapp-ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{LOGIN_SUCCESS,LOGIN_FAIL,USER_LOADED_SUCCESS,USER_LOADED_FAIL}from'../actions/types';var initialState={access:localStorage.getItem('access'),refresh:localStorage.getItem('refresh'),isAuthenticated:null,user:null};export default function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;var type=action.type,payload=action.payload;switch(type){case LOGIN_SUCCESS:localStorage.setItem('access',payload.access);return _objectSpread(_objectSpread({},state),{},{isAuthenticated:true,access:payload.access,refresh:payload.refresh});case USER_LOADED_SUCCESS:return _objectSpread(_objectSpread({},state),{},{user:payload});case USER_LOADED_FAIL:return _objectSpread(_objectSpread({},state),{},{user:null});case LOGIN_FAIL:localStorage.removeItem('access');localStorage.removeItem('refresh');return _objectSpread(_objectSpread({},state),{},{access:null,refresh:null,isAuthenticated:false,user:null});default:return state;}};","map":{"version":3,"sources":["/Users/egor/Documents/GitHub/BMSTU_WEB_7_sem_2021/ProjectDjangoReact/mainapp-ui/src/reducers/auth.js"],"names":["LOGIN_SUCCESS","LOGIN_FAIL","USER_LOADED_SUCCESS","USER_LOADED_FAIL","initialState","access","localStorage","getItem","refresh","isAuthenticated","user","state","action","type","payload","setItem","removeItem"],"mappings":"oKAAA,OACIA,aADJ,CAEIC,UAFJ,CAGIC,mBAHJ,CAIIC,gBAJJ,KAKO,kBALP,CAOA,GAAMC,CAAAA,YAAY,CAAG,CACjBC,MAAM,CAAEC,YAAY,CAACC,OAAb,CAAqB,QAArB,CADS,CAEjBC,OAAO,CAAEF,YAAY,CAACC,OAAb,CAAqB,SAArB,CAFQ,CAGjBE,eAAe,CAAE,IAHA,CAIjBC,IAAI,CAAE,IAJW,CAArB,CAOA,cAAe,WAAuC,IAA9BC,CAAAA,KAA8B,2DAAtBP,YAAsB,IAARQ,CAAAA,MAAQ,2CAClD,GAAQC,CAAAA,IAAR,CAA0BD,MAA1B,CAAQC,IAAR,CAAcC,OAAd,CAA0BF,MAA1B,CAAcE,OAAd,CAEA,OAAOD,IAAP,EACI,IAAKb,CAAAA,aAAL,CACIM,YAAY,CAACS,OAAb,CAAqB,QAArB,CAA+BD,OAAO,CAACT,MAAvC,EACA,sCACOM,KADP,MAEIF,eAAe,CAAE,IAFrB,CAGIJ,MAAM,CAAES,OAAO,CAACT,MAHpB,CAIIG,OAAO,CAAEM,OAAO,CAACN,OAJrB,GAMJ,IAAKN,CAAAA,mBAAL,CACI,sCACOS,KADP,MAEID,IAAI,CAAEI,OAFV,GAIJ,IAAKX,CAAAA,gBAAL,CACI,sCACOQ,KADP,MAEID,IAAI,CAAE,IAFV,GAIJ,IAAKT,CAAAA,UAAL,CACIK,YAAY,CAACU,UAAb,CAAwB,QAAxB,EACAV,YAAY,CAACU,UAAb,CAAwB,SAAxB,EACA,sCACOL,KADP,MAEIN,MAAM,CAAE,IAFZ,CAGIG,OAAO,CAAE,IAHb,CAIIC,eAAe,CAAE,KAJrB,CAKIC,IAAI,CAAE,IALV,GAOJ,QACI,MAAOC,CAAAA,KAAP,CA9BR,CAgCH","sourcesContent":["import {\n    LOGIN_SUCCESS,\n    LOGIN_FAIL,\n    USER_LOADED_SUCCESS,\n    USER_LOADED_FAIL\n} from '../actions/types';\n\nconst initialState = {\n    access: localStorage.getItem('access'),\n    refresh: localStorage.getItem('refresh'),\n    isAuthenticated: null,\n    user: null\n};\n\nexport default function(state = initialState, action) {\n    const { type, payload } = action;\n\n    switch(type) {\n        case LOGIN_SUCCESS:\n            localStorage.setItem('access', payload.access);\n            return {\n                ...state,\n                isAuthenticated: true,\n                access: payload.access,\n                refresh: payload.refresh\n            }\n        case USER_LOADED_SUCCESS:\n            return {\n                ...state,\n                user: payload\n            }\n        case USER_LOADED_FAIL:\n            return {\n                ...state,\n                user: null\n            }\n        case LOGIN_FAIL:\n            localStorage.removeItem('access');\n            localStorage.removeItem('refresh');\n            return {\n                ...state,\n                access: null,\n                refresh: null,\n                isAuthenticated: false,\n                user: null\n            }\n        default:\n            return state\n    }\n};"]},"metadata":{},"sourceType":"module"}