{"ast":null,"code":"import _slicedToArray from\"/Users/egor/Documents/GitHub/BMSTU_WEB_7_sem_2021/ProjectDjangoReact/mainapp-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import'bootstrap/dist/css/bootstrap.min.css';import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ObjectList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),objects=_useState2[0],setObject=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,1),setName=_useState4[0];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,1),setDescription=_useState6[0];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,1),setCondition=_useState8[0];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,1),setDate=_useState10[0];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,1),setEmployee=_useState12[0];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,1),setRoom=_useState14[0];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,1),setAvailability=_useState16[0];var _useState17=useState(null),_useState18=_slicedToArray(_useState17,1),setObjectId=_useState18[0];useEffect(function(){getObjects();},[]);function getObjects(){fetch(\"http://127.0.0.1:8000/api/v1/objects\").then(function(result){result.json().then(function(resp){//console.warn(resp)\nsetObject(resp);setName(resp.name);setDescription(resp.description);setCondition(resp.condition);setDate(resp.date);setEmployee(resp.employee);setRoom(resp.room);setAvailability(resp.availability);setObjectId(resp.id);});});}function deleteObject(id){fetch(\"http://127.0.0.1:8000/api/v1/objects/\".concat(id),{method:'DELETE'}).then(function(result){result.json().then(function(resp){console.warn(resp);getObjects();});});}return/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"\\u041E\\u0431\\u043E\\u0440\\u0443\\u0434\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card card-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-grid gap-2 d-md-flex justify-content-md-end\",children:/*#__PURE__*/_jsx(Link,{className:\"btn btn-outline-primary\",to:{pathname:\"/objects/add\",fromDashboard:false},children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043D\\u043E\\u0432\\u043E\\u0435 \\u043E\\u0431\\u043E\\u0440\\u0443\\u0434\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\"})}),/*#__PURE__*/_jsx(\"table\",{className:\"table table-sm\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0421\\u043E\\u0441\\u0442\\u043E\\u044F\\u043D\\u0438\\u0435\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0414\\u0430\\u0442\\u0430 \\u0432\\u043D\\u0435\\u0441\\u0435\\u043D\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u041A\\u0442\\u043E \\u0438\\u0441\\u043F\\u043E\\u043B\\u044C\\u0437\\u0443\\u0435\\u0442\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0413\\u0434\\u0435 \\u043E\\u0431\\u043E\\u0440\\u0443\\u0434\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0414\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u043E\\u0441\\u0442\\u044C\"})]}),objects.map(function(item,i){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item.id}),/*#__PURE__*/_jsx(\"td\",{children:item.name}),/*#__PURE__*/_jsx(\"td\",{children:item.description}),/*#__PURE__*/_jsx(\"td\",{children:item.condition}),/*#__PURE__*/_jsx(\"td\",{children:item.date}),/*#__PURE__*/_jsx(\"td\",{children:item.employee}),/*#__PURE__*/_jsx(\"td\",{children:item.room}),/*#__PURE__*/_jsx(\"td\",{children:item.availability}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-grid gap-2 d-md-block\",children:[/*#__PURE__*/_jsx(Link,{className:\"btn btn-sm btn-outline-info me-md-2\",to:{pathname:\"/objects/edit/\".concat(item.id),fromDashboard:false},children:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-outline-danger\",onClick:function onClick(){return deleteObject(item.id);},children:\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"})]})})]},i);})]})})]})]})});}export default ObjectList;","map":{"version":3,"sources":["/Users/egor/Documents/GitHub/BMSTU_WEB_7_sem_2021/ProjectDjangoReact/mainapp-ui/src/components/Object/ObjectList.js"],"names":["React","useEffect","useState","Link","ObjectList","objects","setObject","setName","setDescription","setCondition","setDate","setEmployee","setRoom","setAvailability","setObjectId","getObjects","fetch","then","result","json","resp","name","description","condition","date","employee","room","availability","id","deleteObject","method","console","warn","pathname","fromDashboard","map","item","i"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {Link} from \"react-router-dom\";\n\nfunction ObjectList() {\n  const [objects, setObject] = useState([])\n  const [setName] = useState(\"\");\n  const [setDescription] = useState(\"\");\n  const [setCondition] = useState(\"\");\n  const [setDate] = useState(\"\");\n  const [setEmployee] = useState(\"\");\n  const [setRoom] = useState(\"\");\n  const [setAvailability] = useState(\"\");\n  const [setObjectId]=useState(null)\n\n  useEffect(() => {\n    getObjects();\n  },[])\n\n  function getObjects() {\n    fetch(`http://127.0.0.1:8000/api/v1/objects`).then((result) => {\n      result.json().then((resp) => {\n        //console.warn(resp)\n        setObject(resp)\n        setName(resp.name)\n        setDescription(resp.description)\n        setCondition(resp.condition)\n        setDate(resp.date)\n        setEmployee(resp.employee)\n        setRoom(resp.room)\n        setAvailability(resp.availability)\n        setObjectId(resp.id)\n      })\n    })\n  }\n\n  function deleteObject(id) {\n    fetch(`http://127.0.0.1:8000/api/v1/objects/${id}`, {\n      method: 'DELETE'\n    }).then((result) => {\n      result.json().then((resp) => {\n        console.warn(resp)\n        getObjects()\n      })\n    })\n  }\n\n  return (\n    <div className=\"row\">\n            <div className=\"col-md-12\">\n                <h5>Оборудование:</h5>\n                    <div className=\"card card-body\">\n                      <div className=\"d-grid gap-2 d-md-flex justify-content-md-end\">\n                        <Link className=\"btn btn-outline-primary\" to={{pathname: `/objects/add`, fromDashboard: false}}>Добавить новое оборудование</Link>\n                      </div>\n                            <table className=\"table table-sm\">\n                                <tbody>\n                                  <tr>\n                                    <th>ID</th>\n                                    <th>Название</th>\n                                    <th>Описание</th>\n                                    <th>Состояние</th>\n                                    <th>Дата внесения</th>\n                                    <th>Кто использует</th>\n                                    <th>Где оборудование</th>\n                                    <th>Доступность</th>\n                                  </tr>\n                                  {\n                                    objects.map((item, i) =>\n                                      <tr key={i}>\n                                        <td>{item.id}</td>\n                                        <td>{item.name}</td>\n                                        <td>{item.description}</td>\n                                        <td>{item.condition}</td>\n                                        <td>{item.date}</td>\n                                        <td>{item.employee}</td>\n                                        <td>{item.room}</td>\n                                        <td>{item.availability}</td>\n                                        <td>\n                                          <div className=\"d-grid gap-2 d-md-block\">\n                                            <Link className=\"btn btn-sm btn-outline-info me-md-2\" to={{pathname: `/objects/edit/${item.id}`, fromDashboard: false}}>Обновить</Link>\n                                            <button className=\"btn btn-sm btn-outline-danger\" onClick={() => deleteObject(item.id)}>Удалить</button>\n                                          </div>\n                                        </td>\n                                      </tr>\n                                    )\n                                  }\n                                </tbody>\n                            </table>\n                    </div>\n            </div>\n        </div>\n  );\n}\n\nexport default ObjectList;"]},"metadata":{},"sourceType":"module"}