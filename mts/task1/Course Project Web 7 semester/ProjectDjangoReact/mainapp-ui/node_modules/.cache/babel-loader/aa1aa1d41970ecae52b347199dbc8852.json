{"ast":null,"code":"import _slicedToArray from\"/Users/egor/Documents/GitHub/BMSTU_WEB_7_sem_2021/ProjectDjangoReact/mainapp-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import'bootstrap/dist/css/bootstrap.min.css';import{useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ObjectUpdate(){var _useState=useState([]),_useState2=_slicedToArray(_useState,1),setObject=_useState2[0];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),description=_useState6[0],setDescription=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),condition=_useState8[0],setCondition=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),date=_useState10[0],setDate=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),employee=_useState12[0],setEmployee=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),room=_useState14[0],setRoom=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),availability=_useState16[0],setAvailability=_useState16[1];var _useState17=useState(null),_useState18=_slicedToArray(_useState17,2),ObjectId=_useState18[0],setObjectId=_useState18[1];var _useParams=useParams(),id=_useParams.id;useEffect(function(){getObjects();},[]);function getObjects(){fetch(\"http://127.0.0.1:8000/api/v1/objects/\".concat(id,\"/\")).then(function(result){result.json().then(function(resp){console.warn(resp);setObject(resp);setName(resp.name);setDescription(resp.description);setCondition(resp.condition);setDate(resp.date);setEmployee(resp.employee);setRoom(resp.room);setAvailability(resp.availability);setObjectId(resp.id);});});}function updateObject(){var object={name:name,description:description,condition:condition,date:date,employee:employee,room:room,availability:availability};//console.warn(\"item\",item)\nfetch(\"http://127.0.0.1:8000/api/v1/objects/\".concat(ObjectId,\"/\"),{method:'PUT',headers:{'Accept':'application/json','Content-Type':'application/json'},redirect:\"follow\",body:JSON.stringify(object)}).then(function(result){result.json().then(function(resp){console.warn(resp);getObjects();});});}return/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435 \\u043E\\u0431 \\u043E\\u0431\\u043E\\u0440\\u0443\\u0434\\u043E\\u0432\\u0430\\u043D\\u0438\\u0438:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:function onChange(e){setName(e.target.value);}})]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:description,onChange:function onChange(e){setDescription(e.target.value);}})]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u0421\\u043E\\u0441\\u0442\\u043E\\u044F\\u043D\\u0438\\u0435: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:condition,onChange:function onChange(e){setCondition(e.target.value);}})]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u0414\\u0430\\u0442\\u0430 \\u0432\\u043D\\u0435\\u0441\\u0435\\u043D\\u0438\\u044F: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:date,onChange:function onChange(e){setDate(e.target.value);}})]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u041A\\u0442\\u043E \\u0438\\u0441\\u043F\\u043E\\u043B\\u044C\\u0437\\u0443\\u0435\\u0442: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:employee,onChange:function onChange(e){setEmployee(e.target.value);}})]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u0413\\u0434\\u0435 \\u043E\\u0431\\u043E\\u0440\\u0443\\u0434\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:room,onChange:function onChange(e){setRoom(e.target.value);}})]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u0414\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u043E\\u0441\\u0442\\u044C: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:availability,onChange:function onChange(e){setAvailability(e.target.value);}})]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-outline-info\",onClick:updateObject,children:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435 \\u043E\\u0431 \\u043E\\u0431\\u043E\\u0440\\u0443\\u0434\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\"})]})]})})});}export default ObjectUpdate;","map":{"version":3,"sources":["/Users/egor/Documents/GitHub/BMSTU_WEB_7_sem_2021/ProjectDjangoReact/mainapp-ui/src/components/Object/ObjectUpdate.js"],"names":["React","useEffect","useState","useParams","ObjectUpdate","setObject","name","setName","description","setDescription","condition","setCondition","date","setDate","employee","setEmployee","room","setRoom","availability","setAvailability","ObjectId","setObjectId","id","getObjects","fetch","then","result","json","resp","console","warn","updateObject","object","method","headers","redirect","body","JSON","stringify","e","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { useParams } from \"react-router-dom\";\n\n\nfunction ObjectUpdate() {\n  const [setObject] = useState([])\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [condition, setCondition] = useState(\"\");\n  const [date, setDate] = useState(\"\");\n  const [employee, setEmployee] = useState(\"\");\n  const [room, setRoom] = useState(\"\");\n  const [availability, setAvailability] = useState(\"\");\n  const [ObjectId,setObjectId]=useState(null)\n\n  const { id } = useParams();\n\n  useEffect(() => {\n    getObjects();\n  },[])\n\n  function getObjects() {\n    fetch(`http://127.0.0.1:8000/api/v1/objects/${id}/`).then((result) => {\n      result.json().then((resp) => {\n        console.warn(resp)\n        setObject(resp)\n        setName(resp.name)\n        setDescription(resp.description)\n        setCondition(resp.condition)\n        setDate(resp.date)\n        setEmployee(resp.employee)\n        setRoom(resp.room)\n        setAvailability(resp.availability)\n        setObjectId(resp.id)\n      })\n    })\n  }\n\n  function updateObject()\n  {\n    let object = { name, description, condition, date, employee, room, availability  }\n    //console.warn(\"item\",item)\n    fetch(`http://127.0.0.1:8000/api/v1/objects/${ObjectId}/`, {\n      method: 'PUT',\n      headers:{\n        'Accept':'application/json',\n        'Content-Type':'application/json'\n      },\n      redirect: \"follow\",\n      body:JSON.stringify(object)\n    }).then((result) => {\n      result.json().then((resp) => {\n        console.warn(resp)\n        getObjects()\n      })\n    })\n  }\n  return (\n    <div className=\"row\">\n            <div className=\"col-md-12\">\n                <div className=\"card card-body\">\n                    <h5>Обновите данные об оборудовании:</h5>\n                        <br/>\n                            <div>\n                              <label>Название: <input type=\"text\" value={name} onChange={(e)=>{setName(e.target.value)}} /></label> <br /><br />\n                              <label>Описание: <input type=\"text\" value={description} onChange={(e)=>{setDescription(e.target.value)}} /></label> <br /><br />\n                              <label>Состояние: <input type=\"text\" value={condition}  onChange={(e)=>{setCondition(e.target.value)}} /></label> <br /><br />\n                              <label>Дата внесения: <input type=\"text\" value={date}  onChange={(e)=>{setDate(e.target.value)}} /></label> <br /><br />\n                              <label>Кто использует: <input type=\"text\" value={employee}  onChange={(e)=>{setEmployee(e.target.value)}} /></label> <br /><br />\n                              <label>Где оборудование: <input type=\"text\" value={room}  onChange={(e)=>{setRoom(e.target.value)}} /></label> <br /><br />\n                              <label>Доступность: <input type=\"text\" value={availability}  onChange={(e)=>{setAvailability(e.target.value)}} /></label> <br /><br />\n                              <button className=\"btn btn-sm btn-outline-info\" onClick={updateObject} >Обновить данные об оборудование</button>\n                            </div>\n                </div>\n            </div>\n        </div>\n  );\n}\n\nexport default ObjectUpdate;"]},"metadata":{},"sourceType":"module"}