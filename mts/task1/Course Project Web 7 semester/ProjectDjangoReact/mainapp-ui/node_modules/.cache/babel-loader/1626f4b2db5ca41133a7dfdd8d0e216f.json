{"ast":null,"code":"import _slicedToArray from\"/Users/egor/Documents/GitHub/BMSTU_WEB_7_sem_2021/ProjectDjangoReact/mainapp-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import'bootstrap/dist/css/bootstrap.min.css';import{useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LegalEntityUpdate(){var _useState=useState([]),_useState2=_slicedToArray(_useState,1),setLegalEntity=_useState2[0];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),surname=_useState6[0],setSurname=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),patronymic=_useState8[0],setPatronymic=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),address=_useState10[0],setAddress=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),inn=_useState12[0],setInn=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),seriespassport=_useState14[0],setSeriesPassport=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),numberpassport=_useState16[0],setNumberPassport=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),employeenumber=_useState18[0],setEmployeeNumber=_useState18[1];var _useState19=useState(null),_useState20=_slicedToArray(_useState19,2),LegalEntityId=_useState20[0],setLegalEntityId=_useState20[1];var _useParams=useParams(),id=_useParams.id;useEffect(function(){getLegalEntities();},[]);function getLegalEntities(){fetch(\"http://127.0.0.1:8000/api/v1/legalentities/\".concat(id,\"/\")).then(function(result){result.json().then(function(resp){console.warn(resp);setLegalEntity(resp);setName(resp[0].name);setSurname(resp[0].surname);setPatronymic(resp[0].patronymic);setAddress(resp[0].address);setInn(resp[0].inn);setSeriesPassport(resp[0].seriespassport);setNumberPassport(resp[0].numberpassport);setEmployeeNumber(resp[0].employeenumber);setLegalEntityId(resp[0].id);});});}function updateLegalEntity(){var legalentity={name:name,surname:surname,patronymic:patronymic,address:address,inn:inn,seriespassport:seriespassport,numberpassport:numberpassport,employeenumber:employeenumber};//console.warn(\"legalentity\", legalentity)\nfetch(\"http://127.0.0.1:8000/api/v1/legalentities/\".concat(LegalEntityId,\"/\"),{method:'PUT',headers:{'Accept':'application/json','Content-Type':'application/json'},redirect:\"follow\",body:JSON.stringify(legalentity)}).then(function(result){result.json().then(function(resp){console.warn(resp);getLegalEntities();});});}return/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435 \\u043E\\u0431 \\u044E\\u0440\\u0438\\u0434\\u0438\\u0447\\u0435\\u0441\\u043A\\u043E\\u043C \\u043B\\u0438\\u0446\\u0435:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u0418\\u043C\\u044F: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:function onChange(e){setName(e.target.value);}})]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:surname,onChange:function onChange(e){setSurname(e.target.value);}})]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u041E\\u0442\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:patronymic,onChange:function onChange(e){setPatronymic(e.target.value);}})]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u0410\\u0434\\u0440\\u0435\\u0441: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:address,onChange:function onChange(e){setAddress(e.target.value);}})]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u0418\\u041D\\u041D: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:inn,onChange:function onChange(e){setInn(e.target.value);}})]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u0421\\u0435\\u0440\\u0438\\u044F \\u043F\\u0430\\u0441\\u043F\\u043E\\u0440\\u0442\\u0430: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:seriespassport,onChange:function onChange(e){setSeriesPassport(e.target.value);}})]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u041D\\u043E\\u043C\\u0435\\u0440 \\u043F\\u0430\\u0441\\u043F\\u043E\\u0440\\u0442\\u0430: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:numberpassport,onChange:function onChange(e){setNumberPassport(e.target.value);}})]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u041A\\u043E\\u043B-\\u0432\\u043E \\u043F\\u043E\\u0434\\u0447\\u0438\\u043D\\u0435\\u043D\\u043D\\u044B\\u0445\\u044B: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:employeenumber,onChange:function onChange(e){setEmployeeNumber(e.target.value);}})]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-outline-info\",onClick:updateLegalEntity,children:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435 \\u043E\\u0431 \\u044E\\u0440\\u0438\\u0434\\u0438\\u0447\\u0435\\u0441\\u043A\\u043E\\u043C \\u043B\\u0438\\u0446\\u0435\"})]})]})})});}export default LegalEntityUpdate;","map":{"version":3,"sources":["/Users/egor/Documents/GitHub/BMSTU_WEB_7_sem_2021/ProjectDjangoReact/mainapp-ui/src/components/LegalEntity/LegalEntityUpdate.js"],"names":["React","useEffect","useState","useParams","LegalEntityUpdate","setLegalEntity","name","setName","surname","setSurname","patronymic","setPatronymic","address","setAddress","inn","setInn","seriespassport","setSeriesPassport","numberpassport","setNumberPassport","employeenumber","setEmployeeNumber","LegalEntityId","setLegalEntityId","id","getLegalEntities","fetch","then","result","json","resp","console","warn","updateLegalEntity","legalentity","method","headers","redirect","body","JSON","stringify","e","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { useParams } from \"react-router-dom\";\n\n\nfunction LegalEntityUpdate() {\n  const [setLegalEntity] = useState([])\n  const [name, setName] = useState(\"\");\n  const [surname, setSurname] = useState(\"\");\n  const [patronymic, setPatronymic] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const [inn, setInn] = useState(\"\");\n  const [seriespassport, setSeriesPassport] = useState(\"\");\n  const [numberpassport, setNumberPassport] = useState(\"\");\n  const [employeenumber, setEmployeeNumber] = useState(\"\");\n  const [LegalEntityId,setLegalEntityId]=useState(null)\n\n  const { id } = useParams();\n\n  useEffect(() => {\n    getLegalEntities();\n  },[])\n\n  function getLegalEntities() {\n    fetch(`http://127.0.0.1:8000/api/v1/legalentities/${id}/`).then((result) => {\n      result.json().then((resp) => {\n        console.warn(resp)\n        setLegalEntity(resp)\n        setName(resp[0].name)\n        setSurname(resp[0].surname)\n        setPatronymic(resp[0].patronymic)\n        setAddress(resp[0].address)\n        setInn(resp[0].inn)\n        setSeriesPassport(resp[0].seriespassport)\n        setNumberPassport(resp[0].numberpassport)\n        setEmployeeNumber(resp[0].employeenumber)\n        setLegalEntityId(resp[0].id)\n      })\n    })\n  }\n\n  function updateLegalEntity()\n  {\n    let legalentity = { name, surname, patronymic, address, inn, seriespassport, numberpassport, employeenumber };\n    //console.warn(\"legalentity\", legalentity)\n    fetch(`http://127.0.0.1:8000/api/v1/legalentities/${LegalEntityId}/`, {\n      method: 'PUT',\n      headers:{\n        'Accept':'application/json',\n        'Content-Type':'application/json'\n      },\n      redirect: \"follow\",\n      body:JSON.stringify(legalentity)\n    }).then((result) => {\n      result.json().then((resp) => {\n        console.warn(resp)\n        getLegalEntities()\n      })\n    })\n  }\n  return (\n    <div className=\"row\">\n            <div className=\"col-md-12\">\n                <div className=\"card card-body\">\n                    <h5>Обновите данные об юридическом лице:</h5>\n                        <br/>\n                            <div>\n                              <label>Имя: <input type=\"text\" value={name} onChange={(e)=>{setName(e.target.value)}} /></label> <br /><br />\n                              <label>Фамилия: <input type=\"text\" value={surname} onChange={(e)=>{setSurname(e.target.value)}} /></label> <br /><br />\n                              <label>Отчество: <input type=\"text\" value={patronymic}  onChange={(e)=>{setPatronymic(e.target.value)}} /></label> <br /><br />\n                              <label>Адрес: <input type=\"text\" value={address}  onChange={(e)=>{setAddress(e.target.value)}} /></label> <br /><br />\n                              <label>ИНН: <input type=\"text\" value={inn}  onChange={(e)=>{setInn(e.target.value)}} /></label> <br /><br />\n                              <label>Серия паспорта: <input type=\"text\" value={seriespassport}  onChange={(e)=>{setSeriesPassport(e.target.value)}} /></label> <br /><br />\n                              <label>Номер паспорта: <input type=\"text\" value={numberpassport}  onChange={(e)=>{setNumberPassport(e.target.value)}} /></label> <br /><br />\n                              <label>Кол-во подчиненныхы: <input type=\"text\" value={employeenumber}  onChange={(e)=>{setEmployeeNumber(e.target.value)}} /></label> <br /><br />\n                              <button className=\"btn btn-sm btn-outline-info\" onClick={updateLegalEntity } >Обновить данные об юридическом лице</button>\n                            </div>\n                </div>\n            </div>\n        </div>\n  );\n}\n\nexport default LegalEntityUpdate;"]},"metadata":{},"sourceType":"module"}